<!DOCTYPE html>
<!--
  ~ Copyright 2017 Volodymyr Fedorchuk <vl.fedorchuck@gmail.com>
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en">
<head>
    <title>Developers Notification</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Keywords" content="developers notification"/>
    <meta name="Description" content="Java library which provides developers notification via messengers"/>
    <meta name="author" content="https://github.com/fedorchuck/developers-notification"/>
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" type="text/css" href="resources/bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="resources/bootstrap-3.3.7-dist/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="resources/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="resources/font-awesome-4.7.0/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="resources/custom.css">
    <link rel="apple-touch-icon" sizes="57x57" href="resources/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="resources/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="resources/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="resources/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="resources/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="resources/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="resources/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="resources/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="resources/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="resources/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="resources/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="resources/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="resources/favicon/favicon-16x16.png">
    <link rel="manifest" href="resources/favicon/manifest.json">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="resources/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <script src="resources/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <!-- Yandex.Metrika counter --> <script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter44546241 = new Ya.Metrika({ id:44546241, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/44546241" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->
</head>
<body data-spy="scroll" data-target="#scrollspy" data-offset="20">
<header>
<div class="container">
    <div class="row">
        <div class="col-md-8">
            <h1>Developers Notification</h1>
        </div>
        <div class="col-md-4">
            <ul class="list-inline" style="margin-top: 3%;">
                <li>
                    <a href="https://oss.sonatype.org/content/repositories/releases/com/github/fedorchuck/developers-notification/0.2.0/developers-notification-0.2.0.jar"
                                class="btn btn-success btn-download" role="button">Download v0.2.0 JAR </a>
                </li>
                <li>
                    <a href="https://github.com/fedorchuck/developers-notification" target="_blank"
                       class="btn-outline" title="View GitHub Project" style="position: absolute; margin-top: -8%;">
                    <i class="fa fa-fw fa-github"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
</header>
<div class="container header">
    <div class="row">
        <div class="text-center">
            <h2>Java library which provides developers notification via messengers</h2>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-9">
            <div id="introduction" class="chapter-line">
                <h2>Introduction</h2>
                <p>Sometimes every developer needs to know about the event that happened as soon as possible. For example,
                    about irregular work of the server or about changing the third-party rest-api, about anything, depending
                    on the specifics of the project.</p>
                <p>There are many ways to inform developers about such events - all sorts of services, loggers. But most
                    of them send notifications to the mail or a issue tracking system of a different type, which is not
                    always convenient and not always possible to track quickly.</p>
                <p>This library sending notifications to messengers. Just create and connect a bot in the messenger that
                    your team using and that is supported by this library. For now it is Slack and Telegram. Add the library
                    to the project, add it configuration (access keys to the bot that you created), add lines, where it is
                    needed, to send message and you receive messages when something happened.</p>
                <p>Also, this library have monitoring module. It can monitoring current usage of ram and disk memory,
                    set limits of their use and in case of overspending - informs in the selected messengers.</p>
                <p>This library compatible with Java 6+</p>
            </div>
            <div id="download" class="chapter-line">
                <h2>Download</h2>
                <a href="https://oss.sonatype.org/content/repositories/releases/com/github/fedorchuck/developers-notification/0.2.0/developers-notification-0.2.0.jar"
                       class="btn btn-success btn-download" role="button">â†“ v0.2.0 JAR </a>
                <p>The source code to the developers-notification, its samples, and this website is
                    <a href="https://github.com/fedorchuck/developers-notification" target="_blank"> available on GitHub.</a>
                </p>
                <h4>Gradle:</h4>
                <pre>
                    compile 'com.github.fedorchuck:developers-notification:0.2.0'
                </pre>
                <p>
                    Another versions and their JAR-files you can find
                    <a href="https://oss.sonatype.org/content/repositories/releases/com/github/fedorchuck/developers-notification/" target="_blank">here.</a>
                </p>
            </div>
            <div id="setup" class="chapter-line">
                <h2>Setup</h2>
                <p>The library is configured by environment variables or system properties. Supported variable is
                <code>DN</code>. It is single environment variable witch required if you use this library.
                    Accepted value is JSON:
                </p>
                <pre>
{
	"messenger": [{
		"name": "SLACK",
		"token": "SLACK_TOKEN",
		"channel": "SLACK_CHANNEL"
	}, {
		"name": "TELEGRAM",
		"token": "TELEGRAM_TOKEN",
		"channel": "TELEGRAM_CHANNEL"
	}],
	"show_whole_log_details": true,
	"protection_from_spam": true,
	"project_name": "Where this library will be invoked",
	"connect_timeout": 5000,
	"user_agent": "Mozilla/5.0",
	"monitoring": {
		"period": 5,
		"unit": "seconds",
		"max_ram": 90,
		"max_disk": 90,
		"disk_consumption_rate": 2
	}
}
                        </pre>
                <ul>
                    <li>
                        <p><code>messenger</code> it is array of objects with configure part of messages destination; required;</p>
                        <ul>
                            <li><p><code>name</code> contains name of integration. Now available: <code>SLACK</code> and <code>TELEGRAM</code>; </p></li>
                            <li><p><code>token</code> contains token of integration; </p></li>
                            <li><p><code>channel</code> contains channel of integration; </p></li>
                        </ul>
                        <p><b>Note:</b> If you specify several available messengers, you will be received a messages to
                            all specified instant messengers.
                        </p>
                    </li>
                    <li>
                        <p><code>show_whole_log_details</code> receive boolean value; if value is <code>true</code> - at log will be
                            printed Information containing passwords; is not required; default value is <code>false</code>;
                        </p>
                    </li>
                    <li>
                        <p><code>protection_from_spam</code> receive boolean value; if value is <code>true</code> - you will be
                            protected from spam (received the same messages each second). It is necessary for adjust
                            the frequency of sending messages; is not required; default value is <code>false</code>;
                        </p>
                    </li>
                    <li>
                        <p><code>project_name</code> where this library will be invoked; required;</p>
                    </li>
                    <li>
                        <p><code>connect_timeout</code> for
                            <a href="https://fedorchuck.github.io/developers-notification/javadoc-0.2.0/com/github/fedorchuck/developers_notification/http/HttpClient.html" target="_blank">HttpClient</a>
                            is not required; default value is <code>5000</code>;
                        </p>
                    </li>
                    <li>
                        <p><code>user_agent</code> user agent for
                            <a href="https://fedorchuck.github.io/developers-notification/javadoc-0.2.0/com/github/fedorchuck/developers_notification/http/HttpClient.html" target="_blank">HttpClient</a>
                            is not required; default value is <code>Mozilla/5.0</code>;
                        </p>
                    </li>
                    <li>
                        <p><code>monitoring</code> it is object with configure part of monitoring current usage of
                            ram and disk memory, set limits of their use and in case of overspending - informs
                            in the selected messengers; required if you use this function;
                        </p>
                        <ul>
                            <li><p><code>period</code> receive integer value; the frequency with which the monitoring
                                will be carried out;</p></li>
                            <li><p><code>unit</code> the designation in which units the period is measured; should be: </p>
                                <ul>
                                    <li><code>SECONDS</code></li>
                                    <li><code>MINUTES</code></li>
                                    <li><code>HOURS</code></li>
                                    <li><code>DAYS</code></li>
                                </ul>
                            </li>
                            <li><p><code>max_ram</code> receive integer value; determines the permissible limit of use
                                ram in percent;</p></li>
                            <li><p><code>max_disk</code> receive integer value; determines the permissible limit of use
                                disk in percent;</p></li>
                            <li><p><code>disk_consumption_rate</code> receive integer value; determines the
                                permissible limit of disk consumption rate in percent;</p></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div id="connecting_bot" class="chapter-line">
                <h2>Connecting your bot</h2>
                <h2>Slack</h2>
                <ol>
                    <li>
                        <p>Login in into <a href="https://slack.com/" target="_blank">Slack</a></p>
                    </li>
                    <li>
                        <p>Add <a href="https://my.slack.com/services/new/incoming-webhook/" target="_blank">incoming-webhook</a></p>
                    </li>
                    <li>
                        <p>Choose a channel and add press green button :-)</p>
                    </li>
                    <li>
                        <p>Choose the channel again add press green button, again :-)</p>
                    </li>
                    <li>
                        <p>Find the <b>Integration Settings</b> section</p>
                    </li>
                    <li>
                        <p>Find the <b>Webhook URL</b> sub-section and copy token. Example url:
                            <code>https://hooks.slack.com/services/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</code>
                            token: <code>TZXG2L132/B56Z6RGR1/AdlsZzn1QGfo2qrEK4jpO4wJ</code>
                        </p>
                    </li>
                    <li>
                        <p>Messenger configuration to your project should seems like this:</p>
                        <pre>
{
    "name": "SLACK",
    "token": "TZXG2L132/B56Z6RGR1/AdlsZzn1QGfo2qrEK4jpO4wJ",
    "channel": "general"
}</pre>
                    </li>
                </ol>
                <h2>Telegram</h2>
                <ol>
                    <li>
                        <p>Create your <a href="https://core.telegram.org/bots#3-how-do-i-create-a-bot" target="_blank">bot</a></p>
                    </li>
                    <li>
                        <p>Add the Telegram BOT to your chat.</p>
                    </li>
                    <li>
                        <p>Get the list of updates for your BOT:</p>
                        <code>GET https://api.telegram.org/bot<b>YourBOTToken</b>/getUpdates</code>
                        <p>example:</p>
                        <code>GET https://api.telegram.org/bot32031087:pabzcu_j17-jbd78sadvbdy63d37gda37-d8/getUpdates</code>
                    </li>
                    <li>
                        <p>Find object <b>chat</b>. It looks like this:</p>
                        <pre>
"chat": {
    "id": -197235129,
    "title": "test group developers notification",
    "type": "group",
    "all_members_are_administrators": true
},</pre>
                    </li>
                    <li>
                        <p>Messenger configuration to your project should seems like this:</p>
                        <pre>
{
    "name": "TELEGRAM",
    "token": "32031087:pabzcu_j17-jbd78sadvbdy63d37gda37-d8",
    "channel": "-197235129"
}</pre>
                    </li>
                </ol>
            </div>
            <div id="usage" class="chapter-line">
                <h2>Usage</h2>
                <p>You can set needed environment variables using:</p>
                <pre>DevelopersNotificationUtil.setEnvironmentVariable(key, value);</pre>
                <p>For checking set environment variables which needed this library use:</p>
                <pre>DevelopersNotification.printConfiguration();</pre>
                <p><b>Note:</b> If configuration value of field <code>show_whole_log_details</code> is <code>false</code> -
                    will be printed result of method
                    <a href="https://fedorchuck.github.io/developers-notification/javadoc-0.2.0/com/github/fedorchuck/developers_notification/configuration/Config.html" target="_blank">Config</a>#getPublicToString()
                </p>
                <p>For sending message to chosen destination you can use methods:</p>
                <ol>
                    <li><p>Messenger, spam protection and project name will be reading from config.</p>
                        <table border="0">
                            <tr>
                                <th><pre>
DevelopersNotification.send(
    description,
    throwable
);</pre>
                                </th>
                                <th style="width: 100%"><pre>
DevelopersNotification.send(
    "short description",
    new IllegalStateException("abcd")
);</pre>
                                </th>
                            </tr>
                        </table>
                    </li>
                    <li><p>Messenger and spam protection will be reading from config.</p>
                        <table border="0">
                            <tr>
                                <th><pre>
DevelopersNotification.send(
    projectName,
    description,
    throwable
);</pre>
                                </th>
                                <th style="width: 100%"><pre>
DevelopersNotification.send(
    "your project name",
    "short description",
    new IllegalStateException("abcd")
);</pre>
                                </th>
                            </tr>
                        </table>
                    </li>
                    <li><p>Spam protection will be reading from config.</p>
                        <table border="0">
                            <tr>
                                <th><pre>
DevelopersNotification.send(
    messengerDestination,
    projectName,
    description,
    throwable
);</pre>
                                </th>
                                <th style="width: 100%"><pre>
DevelopersNotification.send(
DevelopersNotificationMessenger.ALL_AVAILABLE,
    "your project name",
    "short description",
    new IllegalStateException("abcd")
);</pre>
                        </th>
                            </tr>
                        </table>
                    </li>
                    <li><p>Messenger will be reading from config.</p>
                        <table border="0">
                            <tr>
                                <th><pre>
DevelopersNotification.send(
    protectionFromSpam,
    projectName,
    description,
    throwable
);</pre>
                                </th>
                                <th style="width: 100%"><pre>
DevelopersNotification.send(
    true,
    "your project name",
    "short description",
    new IllegalStateException("abcd")
);</pre>
                            </th>
                            </tr>
                            </table>
                    </li>
                </ol>
                <p>For monitoring current usage of ram and disk memory and in case of overspending limits of their
                    use - get messages in the selected messengers, you can use methods:</p>
                <ol>
                    <li><p>Launches monitoring process for current application.</p>
                    <pre>DevelopersNotification.monitoringStart();</pre>
                    </li>
                    <li><p>Initiates an orderly shutdown in which previously submitted tasks are executed,
                        but no new tasks will be accepted. Invocation has no additional effect if already shut down.</p>
                        <pre>DevelopersNotification.monitoringStop();</pre>
                    </li>
                    <li><p>Check if the monitoring thread is alive. A thread is alive if it has been started
                        and has not yet died.</p>
                        <pre>DevelopersNotification.isMonitoringStateAlive();</pre>
                    </li>
                </ol>
            </div>
            <div id="javadoc" class="chapter-line">
                <h2>Archive and Javadoc</h2>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>Version</th>
                        <th>Link to Javadoc</th>
                        <th>Link to Repository</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>v0.2.0</td>
                        <td><a href="https://fedorchuck.github.io/developers-notification/javadoc-0.2.0" target="_blank">javadoc</a></td>
                        <td><a href="https://oss.sonatype.org/content/repositories/releases/com/github/fedorchuck/developers-notification/0.2.0/" target="_blank">JAR-files</a></td>
                    </tr>
                    <tr>
                        <td>v0.1.2</td>
                        <td><a href="https://fedorchuck.github.io/developers-notification/javadoc-0.1.2" target="_blank">javadoc</a></td>
                        <td><a href="https://oss.sonatype.org/content/repositories/releases/com/github/fedorchuck/developers-notification/0.1.2/" target="_blank">JAR-files</a></td>
                    </tr>
                    <tr>
                        <td>v0.1.1</td>
                        <td><a href="https://fedorchuck.github.io/developers-notification/javadoc-0.1.1" target="_blank">javadoc</a></td>
                        <td><a href="https://oss.sonatype.org/content/repositories/releases/com/github/fedorchuck/developers-notification/0.1.1/" target="_blank">JAR-files</a></td>
                    </tr>
                    <tr>
                        <td>v0.1.0 </td>
                        <td><a href="https://fedorchuck.github.io/developers-notification/javadoc/" target="_blank">javadoc</a></td>
                        <td><a href="https://oss.sonatype.org/content/repositories/releases/com/github/fedorchuck/developers-notification/0.1.0/" target="_blank">JAR-files</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div id="dependencies" class="chapter-line">
                <h2>Dependencies</h2>
                <ul>
                    <li>
                        <a href="https://projectlombok.org/" target="_blank">org.projectlombok:lombok:1.16.16</a>
                    </li>
                    <li>
                        <a href="https://www.slf4j.org/" target="_blank">org.slf4j:slf4j-api:1.7.25</a>
                    </li>
                </ul>
            </div>
            <div id="license" class="chapter-line">
                <h2>License</h2>
                <p>This software is licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache License 2.0</a> </p>
                <pre>
        Copyright 2017 Volodymyr Fedorchuk vl.fedorchuck@gmail.com
        Licensed under the Apache License, Version 2.0 (the "License");
        you may not use this file except in compliance with the License.
        You may obtain a copy of the License at

            http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software
        distributed under the License is distributed on an "AS IS" BASIS,
        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
        See the License for the specific language governing permissions and
        limitations under the License.
                </pre>
            </div>
        </div>
        <div class="col-md-3">
            <div class="content-nav affix-top" data-spy="affix" data-offset-top="20" style="margin-top: 8%;">
            <nav id="scrollspy">
                <ul class="nav nav-pills nav-stacked"><!--nav nav-tabs nav-stacked primary-->
                    <li><a href="#introduction">Introduction</a></li>
                    <!--<li><a href="#features">Features</a></li>-->
                    <li><a href="#download">Download</a></li>
                    <li><a href="#setup">Setup</a></li>
                    <li><a href="#connecting_bot">Connecting BOT</a></li>
                    <li><a href="#usage">Usage</a></li>
                    <li><a href="#javadoc">Archive and Javadoc</a></li>
                    <li><a href="#dependencies">Dependencies</a></li>
                    <li><a href="#license">License</a></li>
                </ul>
                <ul class="nav nav-pills nav-stacked secondary">
                    <li><a href="https://github.com/fedorchuck/developers-notification/blob/master/CHANGELOG.md" target="_blank">Changelog</a></li>
                </ul>
            </nav>
            </div>
        </div>
    </div>
</div>

</body>
</html>
